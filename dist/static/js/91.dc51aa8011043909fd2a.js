webpackJsonp([91],{jmsQ:function(e,a){},xkMV:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=t("Xxa5"),n=t.n(s),l=t("exGp"),i=t.n(l),r=t("BO1k"),o=t.n(r),c=t("bOdI"),u=t.n(c),d={name:"admin_scfszh",data:function(){var e;return e={cid:"",url:"",content:"",startDate:new Date,endDate:new Date,index:1,pageNum:1,pageSize:30,userName:"",sum:0},u()(e,"index",0),u()(e,"tableData",[]),u()(e,"checkIn",!1),u()(e,"loading",!1),u()(e,"dialogVisible",!1),u()(e,"dialogVisible1",!1),u()(e,"dialogVisible2",!1),u()(e,"updateN",{userName:""}),u()(e,"changesendlist",{userName:"",pageNum:"",pageSize:""}),u()(e,"options",[]),u()(e,"options1",[]),u()(e,"options2",[]),u()(e,"rules1",{userName:[{required:!0,message:"请输入用户名",trigger:"change"}],pageNum:[{required:!0,message:"请输入页数",trigger:"change"}],pageSize:[{required:!0,message:"请输入每页数",trigger:"change"}]}),u()(e,"SendData",{userNames:"",startDate:"",endDate:""}),u()(e,"id",""),e},methods:{change:function(){},indexs:function(e){return e+1},succeed:function(e){this.$message({message:e,type:"success"})},failed:function(e){this.$message.error(e)},handleSizeChange:function(){this.checkData()},handlePageChange:function(){this.checkData()},checkData:function(){this.tableData=[],this.checkIn=!0,this.loading=!0;var e=this;this.postRequest("admin/labelSendUserPageQuery",{userName:e.userName}).then(function(a){e.tableData=[],e.loading=!1,e.sum=a.data.data.curPageCount;var t=!0,s=!1,n=void 0;try{for(var l,i=o()(a.data.data.users);!(t=(l=i.next()).done);t=!0){var r=l.value;e.tableData.push({id:r.id,userName:r.userName,password:r.password}),e.index++}}catch(e){s=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(s)throw n}}})},delet:function(e){this.dialogVisible=!0,this.updateN={userName:e.row.userName}},saveLabelSendUser:function(){this.dialogVisible2=!0,this.SendData={}},SendUser:function(){var e=this;this.postRequest("admin/saveLabelSendUser",{userName:this.updateN.userName}).then(function(a){e.dialogVisible2=!1,e.checkData(),e.resAlert(a.data)})},deleted:function(){var e=this;this.postRequest("admin/delLabelSendUser",{userName:this.updateN.userName}).then(function(a){e.dialogVisible=!1,e.checkData(),e.resAlert(a.data)})},sendUserPage:function(e){this.dialogVisible1=!0,this.changesendlist={cid:e.cid,mmdd:e.mmdd}},takeOpation:function(){var e=this;this.postRequest("admin/getLabelType",{}).then(function(a){for(var t in a.data.data)e.options.push({label:a.data.data[t],value:t})})},takeOpation1:function(){var e=this;this.postRequest("admin/getLabelLevel",{}).then(function(a){for(var t in a.data.data)e.options1.push({label:a.data.data[t],value:t})})},changesends:function(e){var a=this,t=this;this.$refs[e].validate(function(e){if(!e)return t.$message.warning("输入完整并正确信息"),!1;a.dialogVisible1=!1,a.postRequest("admin/saveLabelSendUser",{userName:a.changesendlist.userName}).then(function(e){e.data.success?(t.$message.success("添加成功"),t.checkData()):t.$message.warning(e.data.message)})})},cancel:function(){},send:function(){},unsend:function(){},getuserName:function(){var e=this;return i()(n.a.mark(function a(){var t,s,l,i,r,c,u;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.postRequest("admin/getLabelSendUserList",{token:""});case 2:for(t=a.sent,s=!0,l=!1,i=void 0,a.prev=6,r=o()(t.data.data.userList);!(s=(c=r.next()).done);s=!0)u=c.value,e.options2.push({label:u.userName,value:u.userName});a.next=14;break;case 10:a.prev=10,a.t0=a.catch(6),l=!0,i=a.t0;case 14:a.prev=14,a.prev=15,!s&&r.return&&r.return();case 17:if(a.prev=17,!l){a.next=20;break}throw i;case 20:return a.finish(17);case 21:return a.finish(14);case 22:case"end":return a.stop()}},a,e,[[6,10,14,22],[15,,17,21]])}))()},submitBulkSend:function(e){var a=this,t=this,s=this.label_type;switch(s){case 1:s="网贷";break;case 2:s="信用卡";break;case 3:s="电商";break;case 4:s="游戏";break;case 5:s="汽车";break;case 6:s="母婴";break;case 7:s="教育"}var n=this.label_level;switch(n){case 1:n="A";break;case 2:n="B";break;case 3:n="C";break;case 4:n="D";break;case 5:n="E";break;case 6:n="F";break;case 7:n="G";break;case 8:n="H";break;case 9:n="I"}this.postRequest("admin/labelSend",{userName:this.SendData.userNames,mobile:this.SendData.mobile,label_source:this.SendData.label_source,startDate:this.SendData.startDate,endDate:this.SendData.endDate,content:this.SendData.content,sms_count:this.SendData.sms_count,label_type:this.SendData.label_type,label_level:this.SendData.label_level}).then(function(e){a.checkData(),a.dialogVisible2=!1,e.data.success?t.$message.success("发送账号成功"):t.$message.warning("发送账号失败")})}},mounted:function(){this.checkData(),this.takeOpation(),this.takeOpation1(),this.getuserName()}},m={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"container"},[t("el-form",{attrs:{inline:"inline","label-width":"120px"}},[t("el-form-item",[t("el-button",{attrs:{type:"primary",plain:""},on:{click:e.sendUserPage}},[e._v("上传用户名")])],1)],1),e._v(" "),e.checkIn?t("el-card",[t("el-form",{attrs:{inline:"inline","label-width":"80px"}},[t("el-form-item",{attrs:{label:"用户名:"}},[t("el-input",{model:{value:e.userName,callback:function(a){e.userName=a},expression:"userName"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",plain:""},on:{click:e.checkData}},[e._v("查询")])],1)],1),e._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{border:"",data:e.tableData,stripe:""}},[t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text"},on:{click:function(t){e.delet(a)}}},[e._v("删除")])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"id",label:"id"}}),e._v(" "),t("el-table-column",{attrs:{prop:"userName",label:"用户名"}}),e._v(" "),t("el-table-column",{attrs:{prop:"password",label:"密码"}})],1),e._v(" "),t("el-dialog",{attrs:{title:"删除发送账号",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(a){e.dialogVisible=a}}},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.updateN}},[t("el-form-item",{attrs:{label:"用户名"}},[t("el-input",{model:{value:e.updateN.userName,callback:function(a){e.$set(e.updateN,"userName",a)},expression:"updateN.userName"}})],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(a){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.deleted}},[e._v("确认删除")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"上传发送账号",visible:e.dialogVisible2},on:{"update:visible":function(a){e.dialogVisible2=a}}},[t("el-form",{ref:"bulkSendData",attrs:{model:e.SendData,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"用户名：",prop:"userName"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.SendData.userNames,callback:function(a){e.$set(e.SendData,"userNames",a)},expression:"SendData.userNames"}},e._l(e.options2,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"查询结果："}},[t("el-input",{model:{value:e.SendData.sms_count,callback:function(a){e.$set(e.SendData,"sms_count",a)},expression:"SendData.sms_count"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"手机号码："}},[t("el-input",{model:{value:e.SendData.mobile,callback:function(a){e.$set(e.SendData,"mobile",a)},expression:"SendData.mobile"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"标签类型：",prop:"label_type"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.SendData.label_type,callback:function(a){e.$set(e.SendData,"label_type",a)},expression:"SendData.label_type"}},e._l(e.options,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"标签等级：",prop:"label_level"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.SendData.label_level,callback:function(a){e.$set(e.SendData,"label_level",a)},expression:"SendData.label_level"}},e._l(e.options1,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"开始时间："}},[t("el-date-picker",{attrs:{type:"datetime"},model:{value:e.SendData.startDate,callback:function(a){e.$set(e.SendData,"startDate",a)},expression:"SendData.startDate"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"结束时间："}},[t("el-date-picker",{attrs:{type:"datetime"},model:{value:e.SendData.endDate,callback:function(a){e.$set(e.SendData,"endDate",a)},expression:"SendData.endDate"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"短信内容：",prop:"content"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.SendData.content,callback:function(a){e.$set(e.SendData,"content",a)},expression:"SendData.content"}})],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.submitBulkSend("bulkSendData")}}},[e._v("发送")]),e._v(" "),t("el-button",{on:{click:function(a){e.dialogVisible2=!1}}},[e._v("取消")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"发送账号分页",visible:e.dialogVisible1,width:"40%"},on:{"update:visible":function(a){e.dialogVisible1=a}}},[t("el-form",{ref:"changesendlist",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.changesendlist,"label-width":"120px",rules:e.rules1}},[t("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[t("el-input",{model:{value:e.changesendlist.userName,callback:function(a){e.$set(e.changesendlist,"userName",a)},expression:"changesendlist.userName"}})],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(a){e.dialogVisible1=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.changesends("changesendlist")}}},[e._v("提交")])],1)],1),e._v(" "),t("el-pagination",{staticClass:"fr",staticStyle:{margin:"10px 0"},attrs:{"current-page":e.pageNum,"page-size":e.pageSize,total:e.sum,layout:"sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handlePageChange,"update:currentPage":function(a){e.pageNum=a},"update:pageSize":function(a){e.pageSize=a}}}),e._v(" "),t("span",{staticClass:"fr",staticStyle:{"padding-top":"15px","font-size":"14px"}},[e._v("共"+e._s(e.sum)+"条，")])],1):e._e()],1)},staticRenderFns:[]};var p=t("VU/8")(d,m,!1,function(e){t("jmsQ")},"data-v-1c6d28b6",null);a.default=p.exports}});