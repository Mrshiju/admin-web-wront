webpackJsonp([61],{"+wmE":function(a,t){},Cyc5:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=e("BO1k"),n=e.n(s),l={data:function(){return{submitSum:0,submitSucSum:0,reportSucSum:0,reportUnknowSum:0,userName:"",agentName:"",companyName:"",dayStart:new Date,dayEnd:new Date,month:new Date,isFirst:!1,index:0,pageNum:1,pageSize:30,sum:0,tableData:[],checkIn:!0,loading:!1}},methods:{succeed:function(){this.$message({message:"导出成功",type:"success"})},failed:function(){this.$message.error("导出失败")},exportData:function(){var a=this;this.postRequest("/admin/exportCustomerSendMonthReport",{userName:this.userName,agentName:this.agentName,dayStart:this.formatDate(this.dayStart),dayEnd:this.formatDate(this.dayEnd),month:this.formatDate(this.month),isFirst:this.isFirst,pageNum:this.pageNum,pageSize:this.pageSize}).then(function(t){t.data.success?a.succeed():a.failed()})},handleSizeChange:function(){this.checkData()},handlePageChange:function(){this.checkData()},checkData:function(){var a=this;this.tableData=[],this.checkIn=!0,this.loading=!0;var t=this;this.postRequest("/admin/listCustomerSendDayReport",{userName:this.userName,agentName:this.agentName,dayStart:this.formatDate(this.dayStart),dayEnd:this.formatDate(this.dayEnd),month:this.formatDate(this.month),isFirst:this.isFirst,pageNum:this.pageNum,pageSize:this.pageSize}).then(function(e){t.tableData=[],t.loading=!1,a.index=Number(e.data.data.page.pageNum-1)*Number(e.data.data.page.pageSize)+1,t.sum=e.data.data.page.totalCount,t.submitSum=e.data.data.commonSum.submitSum,t.submitSucSum=e.data.data.commonSum.submitSucSum,t.reportSucSum=e.data.data.commonSum.reportSucSum,t.reportUnknowSum=e.data.data.commonSum.reportUnknowSum;var s=!0,l=!1,r=void 0;try{for(var u,i=n()(e.data.data.data);!(s=(u=i.next()).done);s=!0){var o=u.value;t.tableData.push({index:t.index,id:o.id,userName:o.userName,agentName:o.agentName,companyName:o.companyName,customerSubmitSum:o.customerSubmitSum,gatewaySubmitSum:o.gatewaySubmitSum,gatewaySubmitSuccess:o.gatewaySubmitSuccess,gatewaySubmitFailed:o.gatewaySubmitFailed,gatewaySubmitSuccessRate:o.gatewaySubmitSuccessRate?(100*o.gatewaySubmitSuccessRate).toFixed(4)+"%":0,gatewayReportSum:o.gatewayReportSum,gatewayReportSuccess:o.gatewayReportSuccess,gatewayReportFailed:o.gatewayReportFailed,platSubmitFailed:o.customerSubmitSum-o.gatewaySubmitSum,gatewayReportUnknow:o.gatewayReportUnknow,gatewayReportSuccessRate:o.gatewayReportSuccessRate?(100*o.gatewayReportSuccessRate).toFixed(4)+"%":0,gatewayReportReturnRate:o.gatewayReportReturnRate?(100*o.gatewayReportReturnRate).toFixed(4)+"%":0,statDay:o.statDay,created:o.created,updated:o.updated}),t.index++}}catch(a){l=!0,r=a}finally{try{!s&&i.return&&i.return()}finally{if(l)throw r}}})},cancel:function(){}}},r={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"container"},[e("el-form",{attrs:{"label-width":"120px",inline:"inline"},nativeOn:{keyup:function(t){return"button"in t||!a._k(t.keyCode,"enter",13,t.key,"Enter")?a.checkData(t):null}}},[e("el-form-item",{attrs:{label:"用户名"}},[e("el-input",{model:{value:a.userName,callback:function(t){a.userName=t},expression:"userName"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"代理商"}},[e("el-input",{model:{value:a.agentName,callback:function(t){a.agentName=t},expression:"agentName"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"公司名称"}},[e("el-input",{model:{value:a.companyName,callback:function(t){a.companyName=t},expression:"companyName"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"起始日"}},[e("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:a.dayStart,callback:function(t){a.dayStart=t},expression:"dayStart"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"截止日"}},[e("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:a.dayEnd,callback:function(t){a.dayEnd=t},expression:"dayEnd"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"按月"}},[e("el-date-picker",{attrs:{type:"month",placeholder:"选择月"},model:{value:a.month,callback:function(t){a.month=t},expression:"month"}})],1),a._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary",plain:""},on:{click:a.checkData}},[a._v("查询")])],1)],1),a._v(" "),a.checkIn?e("el-card",[e("el-button",{attrs:{type:"text"},on:{click:a.exportData}},[a._v("+导出")]),a._v(" "),e("div",{staticClass:"dataWrap"},[e("span",{staticClass:"count"},[a._v("\n      消费数：\n      "),e("span",{staticClass:"data"},[a._v(a._s(a.submitSum))])]),a._v(" "),e("span",{staticClass:"count"},[a._v("\n      提交成功数：\n      "),e("span",{staticClass:"data"},[a._v(a._s(a.submitSucSum))])]),a._v(" "),e("span",{staticClass:"count"},[a._v("\n      报告成功数：\n      "),e("span",{staticClass:"data"},[a._v(a._s(a.reportSucSum))])]),a._v(" "),e("span",{staticClass:"count"},[a._v("\n      报告未知数：\n      "),e("span",{staticClass:"data"},[a._v(a._s(a.reportUnknowSum))])])]),a._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],ref:"table",attrs:{border:"",data:a.tableData,stripe:""}},[e("el-table-column",{attrs:{label:"序号",prop:"index"}}),a._v(" "),e("el-table-column",{attrs:{prop:"userName",label:"用户名"}}),a._v(" "),e("el-table-column",{attrs:{prop:"agentName",label:"代理商"}}),a._v(" "),e("el-table-column",{attrs:{prop:"companyName",label:"公司名称"}}),a._v(" "),e("el-table-column",{attrs:{prop:"customerSubmitSum",label:"消费数"}}),a._v(" "),e("el-table-column",{attrs:{prop:"platSubmitFailed",label:"平台提交失败"}}),a._v(" "),e("el-table-column",{attrs:{prop:"gatewaySubmitSum",label:"网关提交数"}}),a._v(" "),e("el-table-column",{attrs:{prop:"gatewaySubmitSuccess",label:"提交成功数"}}),a._v(" "),e("el-table-column",{attrs:{prop:"gatewaySubmitFailed",label:"提交失败数"}}),a._v(" "),e("el-table-column",{attrs:{prop:"gatewaySubmitSuccessRate",label:"提交成功率"}}),a._v(" "),e("el-table-column",{attrs:{prop:"gatewayReportSum",label:"网关报告数"}}),a._v(" "),e("el-table-column",{attrs:{prop:"gatewayReportSuccess",label:"报告成功"}}),a._v(" "),e("el-table-column",{attrs:{prop:"gatewayReportFailed",label:"报告失败"}}),a._v(" "),e("el-table-column",{attrs:{prop:"gatewayReportUnknow",label:"报告未知"}}),a._v(" "),e("el-table-column",{attrs:{prop:"gatewayReportSuccessRate",label:"报告成功率"}}),a._v(" "),e("el-table-column",{attrs:{prop:"gatewayReportReturnRate",label:"报告返回率"}}),a._v(" "),e("el-table-column",{attrs:{prop:"statDay",label:"统计时间"}}),a._v(" "),e("el-table-column",{attrs:{prop:"created",label:"创建时间"}}),a._v(" "),e("el-table-column",{attrs:{prop:"updated",label:"更新时间"}})],1),a._v(" "),e("el-pagination",{staticClass:"fr",staticStyle:{margin:"10px 0"},attrs:{"current-page":a.pageNum,"page-size":a.pageSize,total:a.sum,layout:"sizes, prev, pager, next, jumper"},on:{"size-change":a.handleSizeChange,"current-change":a.handlePageChange,"update:currentPage":function(t){a.pageNum=t},"update:pageSize":function(t){a.pageSize=t}}}),a._v(" "),e("span",{staticClass:"fr",staticStyle:{"padding-top":"15px","font-size":"14px"}},[a._v("共"+a._s(a.sum)+"条，")])],1):a._e()],1)},staticRenderFns:[]};var u=e("VU/8")(l,r,!1,function(a){e("+wmE")},"data-v-57c83c78",null);t.default=u.exports}});